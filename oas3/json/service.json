{"openapi":"3.0.0","info":{"description":"This API will return a collection of Service Data.\n\nThe base endpoint URL for this API in production is: `https://marko.aramark.net/v1/service`.\n\nFor testing the API with the \"Try\" tool on this page or in your app, use either our testing server \"qa-marko\" or our development server \"dev-marko\".\n","version":"1.0.0-oas3","title":"Service"},"tags":[{"name":"Device","description":"A collection of Device data"},{"name":"Results","description":"A collection of Service Results for a Location"},{"name":"Site","description":"A collectin of Site data"},{"name":"User","description":"A collection of User Service data"}],"paths":{"/device/sites":{"get":{"summary":"Get Sites for a Device","description":"Returns a collection of Sites for a Device\n","operationId":"getDeviceSites","tags":["Device"],"parameters":[{"$ref":"#/components/parameters/deviceSerialNumberParam"},{"$ref":"#/components/parameters/sourceSystemParam"},{"$ref":"#/components/parameters/bypassCacheParam"},{"$ref":"#/components/parameters/smokeParam"}],"responses":{"200":{"description":"Lists Device Sites","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","description":"ENUM 'Success', 'Error' or 'Not Found'"},"count":{"type":"string","description":"Number of records"},"device_sites":{"type":"array","items":{"$ref":"#/components/schemas/device_sites"}}}}}}},"404":{"description":"Requested resource does not exist."},"405":{"description":"HTTP Verb / Operation not supported"}}}},"/user/sites":{"get":{"summary":"Get Sites for a User","description":"Returns a collection of Sites for a User\n","operationId":"getUserSites","tags":["User"],"parameters":[{"$ref":"#/components/parameters/emailParam"},{"$ref":"#/components/parameters/sourceSystemParam"},{"$ref":"#/components/parameters/bypassCacheParam"},{"$ref":"#/components/parameters/smokeParam"}],"responses":{"200":{"description":"Lists User Sites","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","description":"ENUM 'Success', 'Error' or 'Not Found'"},"count":{"type":"string","description":"Number of records"},"user_sites":{"type":"array","items":{"$ref":"#/components/schemas/user_sites"}}}}}}},"404":{"description":"Requested resource does not exist."},"405":{"description":"HTTP Verb / Operation not supported"}}}},"/user/locations/disabled":{"get":{"summary":"Disabled User Service Locations","description":"Returns a collection of Disabled Service Locations for a User\n","operationId":"getDisabledUserServiceLocations","tags":["User"],"parameters":[{"$ref":"#/components/parameters/emailParam"},{"$ref":"#/components/parameters/sourceSystemParam"},{"$ref":"#/components/parameters/bypassCacheParam"},{"$ref":"#/components/parameters/smokeParam"}],"responses":{"200":{"description":"Lists Disabled Service Locations for a User","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","description":"ENUM 'Success', 'Error' or 'Not Found'"},"count":{"type":"string","description":"Number of records"},"user_disabled_locations":{"type":"array","items":{"$ref":"#/components/schemas/user_disabled_locations"}}}}}}},"404":{"description":"Requested resource does not exist."},"405":{"description":"HTTP Verb / Operation not supported"}}},"put":{"summary":"Update User Disabled Locations","description":"Allows updates to Disabled User Locations\n","operationId":"putUserDisabledLocations","tags":["User"],"parameters":[{"$ref":"#/components/parameters/sourceSystemParam"}],"requestBody":{"description":"Details for the Waste that is being updated","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/putDisabledUserLocationsBody"}}}},"responses":{"200":{"description":"Status of the Update Request","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","description":"ENUM 'Success', 'Error' or 'Not Found'"},"message":{"type":"string","description":"Status Message for the Update Request"}}}}}},"404":{"description":"Requested resource does not exist."},"405":{"description":"HTTP Verb / Operation not supported"}}}},"/site/request":{"post":{"summary":"Create Site Request","description":"Allows Site Request\n","operationId":"postSiteRequest","tags":["Site"],"parameters":[{"$ref":"#/components/parameters/sourceSystemParam"}],"requestBody":{"description":"Details for the Waste that is being updated","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/postSiteRequestBody"}}}},"responses":{"200":{"description":"Status of the Request","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","description":"ENUM 'Success', 'Error' or 'Not Found'"},"message":{"type":"string","description":"Status Message for the Request"}}}}}},"404":{"description":"Requested resource does not exist."},"405":{"description":"HTTP Verb / Operation not supported"}}},"put":{"summary":"Update Site Request","description":"Allows updates to a Site Request\n","operationId":"putSiteRequest","tags":["Site"],"parameters":[{"$ref":"#/components/parameters/sourceSystemParam"}],"requestBody":{"description":"Details for the Waste that is being updated","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/putSiteRequestBody"}}}},"responses":{"200":{"description":"Status of the Update Request","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","description":"ENUM 'Success', 'Error' or 'Not Found'"},"message":{"type":"string","description":"Status Message for the Update Request"}}}}}},"404":{"description":"Requested resource does not exist."},"405":{"description":"HTTP Verb / Operation not supported"}}}},"/results/waste":{"put":{"summary":"Update Waste","description":"Allows updates to Waste\n","operationId":"putResultsWaste","tags":["Results"],"parameters":[{"$ref":"#/components/parameters/sourceSystemParam"}],"requestBody":{"description":"Details for the Waste that is being updated","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/putWasteBody"}}}},"responses":{"200":{"description":"Status of the Update Request","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","description":"ENUM 'Success', 'Error' or 'Not Found'"},"message":{"type":"string","description":"Status Message for the Update Request"}}}}}},"404":{"description":"Requested resource does not exist."},"405":{"description":"HTTP Verb / Operation not supported"}}}}},"servers":[{"url":"https://qa-marko.aramark.net/v1/service","description":"Testing server"},{"url":"https://dev-marko.aramark.net/v1/service","description":"Development server"}],"components":{"parameters":{"locationIdParam":{"name":"location_id","in":"query","description":"ID of the Location","required":true,"schema":{"type":"number"}},"sourceSystemParam":{"name":"source_system","in":"query","description":"source system","required":false,"schema":{"type":"string","enum":["PRMA"],"default":"PRMA"}},"emailParam":{"name":"sp_guid","in":"query","description":"sp GUID of the User","required":true,"schema":{"type":"string"}},"deviceSerialNumberParam":{"name":"device_serial_number","in":"query","description":"Serial Number of the Device","required":true,"schema":{"type":"string"}},"bypassCacheParam":{"in":"header","name":"bypass-cache","description":"This HTTP Header variable will bypass cache","schema":{"type":"string","enum":["true","false"]}},"smokeParam":{"in":"header","name":"smoke","description":"When set to 'true' this HTTP Header variable will route to the Integration environment.  Only applicable in QA Server.\n","schema":{"type":"string","enum":["true","false"]}}},"securitySchemes":{"apikey":{"type":"apiKey","in":"header","name":"apikey","description":"This HTTP Header variable will verify security"}},"schemas":{"putWasteBody":{"type":"object","properties":{"waste_date":{"type":"string","description":"Date of the Waste"},"site_id":{"type":"number","description":"Site ID for the Waste"},"station_id":{"type":"number","description":"Station ID for the Waste"},"waste_type":{"type":"number","description":"Type of Waste"},"waste_value":{"type":"number","description":"Value of the Waste"},"waste_unit":{"type":"string","description":"Unit of the Waste"}}},"user_disabled_locations":{"type":"object","properties":{"location_id":{"type":"number","description":"ID of the Location"},"is_disabled":{"type":"string","description":"Status to determine if location is disabled - true or false"}}},"putDisabledUserLocationsBody":{"type":"object","properties":{"sp_guid":{"type":"string","description":"sp GUID of the user"},"location_id":{"type":"number","description":"ID of the Location"},"enalbed":{"type":"string","description":"Status to determine if location is disabled - true or false"}}},"postSiteRequestBody":{"type":"object","properties":{"approval_email":{"type":"string","description":"Email of the approver of the site request"},"site_id":{"type":"number","description":"ID of the Site for the request"},"requestor_sp_guid":{"type":"string","description":"sp GUID of the requestor for the Site. Either requestor_sp_guid or device_serial_number MUST be included"},"device_serial_number":{"type":"string","description":"Device Serial Number of the request. Either requestor_sp_guid or device_serial_number MUST be included"}}},"putSiteRequestBody":{"type":"object","properties":{"request_token":{"type":"number","description":"Request Token of the Site Request"},"status":{"type":"string","description":"Status of the Request"}}},"user_sites":{"type":"object","properties":{"site_id":{"type":"number","description":"ID for the Site"},"site_name":{"type":"string","description":"Name of the Site"}}},"device_sites":{"type":"object","properties":{"site_id":{"type":"number","description":"ID for the Site"},"site_name":{"type":"string","description":"Name of the Site"}}}}}}