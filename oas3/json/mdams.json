{"openapi":"3.0.0","info":{"description":"\nThis is a collection of APIs to support the Marko Device Area Management System\n\nThe base endpoint URL for this API in production is: `https://marko.aramark.net/i1/mdams`.\n\nFor testing the API with the \"Try\" tool on this page or in your app, use either our testing server \"qa-marko\" or our development server \"dev-marko\".\n","version":"1.0.0-oas3","title":"MDAMS"},"security":[{"apiKey":[]}],"paths":{"/user":{"get":{"operationId":"getUsers","tags":["Users"],"summary":"Gets Users","description":"![This endpoint is in development](/themes/portal/images/statuspngs/statusdev.png)\n","parameters":[{"$ref":"#/components/parameters/anetUserIdParam"},{"$ref":"#/components/parameters/bypassCacheParam"}],"responses":{"200":{"description":"Collection of Users","content":{"*/*":{"schema":{"type":"object","properties":{"status":{"type":"string","description":"ENUM 'Success' or 'Error'","default":"Success"},"count":{"type":"string","description":"Number of records returned"},"users":{"type":"array","items":{"$ref":"#/components/schemas/user"}}}}}}},"404":{"description":"Requested resource does not exist."},"405":{"description":"HTTP Verb / Operation not supported"}}},"put":{"operationId":"putUsers","tags":["Users"],"summary":"Creates or Updates a User","description":"![This endpoint is in development](/themes/portal/images/statuspngs/statusdev.png)\n","parameters":[{"$ref":"#/components/parameters/bypassCacheParam"}],"requestBody":{"description":"JSON body containing the User attributes. All attributes must be included.","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/put_users"}}}},"responses":{"200":{"description":"Status of User Put Request","content":{"*/*":{"schema":{"type":"object","properties":{"status":{"type":"string","description":"ENUM 'Success' or 'Error'","default":"Success"},"count":{"type":"string","description":"Count of affected records"},"anet_user_id":{"type":"string","description":"ANET User ID of the affected user"},"message":{"type":"string","description":"Message of the request"}}}}}},"404":{"description":"Requested resource does not exist."},"405":{"description":"HTTP Verb / Operation not supported"}}}},"/space":{"get":{"operationId":"getSpaces","tags":["Spaces"],"summary":"Gets Spaces","description":"![This endpoint is in development](/themes/portal/images/statuspngs/statusdev.png)\n","parameters":[{"$ref":"#/components/parameters/clientIdReqParam"},{"$ref":"#/components/parameters/anetUserIdReqParam"},{"$ref":"#/components/parameters/areaNodeKeyParam"},{"$ref":"#/components/parameters/pageParam"},{"$ref":"#/components/parameters/sizeParam"},{"$ref":"#/components/parameters/bypassCacheParam"}],"responses":{"200":{"description":"Collection of Spaces","content":{"*/*":{"schema":{"type":"object","properties":{"status":{"type":"string","description":"ENUM 'Success' or 'Error'","default":"Success"},"count":{"type":"string","description":"Number of records returned"},"page":{"type":"number","description":"Page number of the response"},"size":{"type":"number","description":"Size of the response"},"spaces":{"type":"array","items":{"$ref":"#/components/schemas/spaces"}}}}}}},"404":{"description":"Requested resource does not exist."},"405":{"description":"HTTP Verb / Operation not supported"}}},"put":{"operationId":"putSpaces","tags":["Spaces"],"summary":"Creates or Updates a Space","description":"![This endpoint is in development](/themes/portal/images/statuspngs/statusdev.png)\n","parameters":[{"$ref":"#/components/parameters/bypassCacheParam"}],"requestBody":{"description":"JSON body containing the Space attributes. If creating a new space, do not include area_node_key. If creating a new attribute, do not include area_node_attribute_key.","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/put_spaces"}}}},"responses":{"200":{"description":"Status of Space Put Request","content":{"*/*":{"schema":{"type":"object","properties":{"status":{"type":"string","description":"ENUM 'Success' or 'Error'","default":"Success"},"count":{"type":"string","description":"Count of affected records"},"area_node_key":{"type":"string","description":"Area Node Key of the affected space"},"message":{"type":"string","description":"Message of the request"}}}}}},"404":{"description":"Requested resource does not exist."},"405":{"description":"HTTP Verb / Operation not supported"}}}},"/device":{"get":{"operationId":"getDevices","tags":["Devices"],"summary":"Gets Devices","description":"![This endpoint is in development](/themes/portal/images/statuspngs/statusdev.png)\n","parameters":[{"$ref":"#/components/parameters/clientIdReqParam"},{"$ref":"#/components/parameters/anetUserIdReqParam"},{"$ref":"#/components/parameters/deviceIdParam"},{"$ref":"#/components/parameters/pageParam"},{"$ref":"#/components/parameters/sizeParam"},{"$ref":"#/components/parameters/bypassCacheParam"}],"responses":{"200":{"description":"Collection of Devices","content":{"*/*":{"schema":{"type":"object","properties":{"status":{"type":"string","description":"ENUM 'Success' or 'Error'","default":"Success"},"count":{"type":"string","description":"Number of records returned"},"page":{"type":"number","description":"Page number of the response"},"size":{"type":"number","description":"Size of the response"},"devices":{"type":"array","items":{"$ref":"#/components/schemas/devices"}}}}}}},"404":{"description":"Requested resource does not exist."},"405":{"description":"HTTP Verb / Operation not supported"}}},"put":{"operationId":"putDevices","tags":["Devices"],"summary":"Creates or Updates a Device","description":"![This endpoint is in development](/themes/portal/images/statuspngs/statusdev.png)\n","parameters":[{"$ref":"#/components/parameters/bypassCacheParam"}],"requestBody":{"description":"JSON body containing the Device attributes. All attributes must be included.","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/put_devices"}}}},"responses":{"200":{"description":"Status of Device Put Request","content":{"*/*":{"schema":{"type":"object","properties":{"status":{"type":"string","description":"ENUM 'Success' or 'Error'","default":"Success"},"count":{"type":"string","description":"Count of affected records"},"device_id":{"type":"string","description":"Device ID of the affected user"},"message":{"type":"string","description":"Message of the request"}}}}}},"404":{"description":"Requested resource does not exist."},"405":{"description":"HTTP Verb / Operation not supported"}}}}},"servers":[{"url":"https://qa-marko.aramark.net/i1/mdams","description":"Testing server"},{"url":"https://dev-marko.aramark.net/i1/mdams","description":"Development server"}],"components":{"securitySchemes":{"apiKey":{"type":"apiKey","in":"header","name":"apikey","description":"This HTTP Header variable will verify permissions."}},"parameters":{"clientIdReqParam":{"in":"query","name":"client_id","description":"Client ID","required":true,"schema":{"type":"string"}},"anetUserIdReqParam":{"in":"query","name":"anet_user_id","description":"ANET User ID for the User","required":true,"schema":{"type":"string"}},"anetUserIdParam":{"in":"query","name":"anet_user_id","description":"ANET User ID for the User","schema":{"type":"string"}},"areaNodeKeyParam":{"in":"query","name":"area_node_key","description":"Area Node Key for the Space","schema":{"type":"string"}},"deviceIdParam":{"in":"query","name":"device_id","description":"ID of the Device","schema":{"type":"string"}},"pageParam":{"in":"query","name":"page","description":"Page number of result set","schema":{"type":"number","default":1}},"sizeParam":{"in":"query","name":"size","description":"Number of records to be returned in each page of result set","schema":{"type":"string","default":50}},"bypassCacheParam":{"in":"header","name":"bypass-cache","description":"This HTTP Header variable will bypass cache.","schema":{"type":"string","enum":["true","false"],"default":"false"}}},"schemas":{"user":{"type":"object","properties":{"email":{"type":"string","description":"Email address of the user"},"anet_user_id":{"type":"string","description":"ANET User ID of the user"},"first_name":{"type":"string","description":"First Name of the User"},"last_name":{"type":"string","description":"Last Name of the User"},"role":{"type":"string","description":"Role of the User"},"active_flag":{"type":"string","description":"Flag determining if the User is active or not 'A' or 'X'"},"clients":{"type":"array","items":{"$ref":"#/components/schemas/user_clients"}}}},"user_clients":{"type":"object","properties":{"client_id":{"type":"string","description":"ID of the Client"},"client_name":{"type":"string","description":"Name of the Client"}}},"put_users":{"type":"object","properties":{"anet_user_id":{"type":"string","description":"ANET User ID of the user to be created or updated"},"first_name":{"type":"string","description":"First Name of the User to be created or updated"},"last_name":{"type":"string","description":"Last Name of the User  to be created or updated"},"user_email":{"type":"string","description":"Email address of the user to be created or updated"},"user_role":{"type":"string","description":"Role of the User to be created or updated"},"active_flag":{"type":"string","description":"Flag determining if the User is active or not 'A' or 'X'"},"user_orgs":{"type":"array","items":{"$ref":"#/components/schemas/put_user_clients"}},"email":{"type":"string","description":"Email of the User creating or updating"}}},"put_user_clients":{"type":"object","properties":{"client_org_code":{"type":"string","description":"Org Code for the Client to be mapped to the User"},"active_flag":{"type":"string","description":"Flag determining if the User-Client Mapping is active or not 'A' or 'X'"}}},"spaces":{"type":"object","properties":{"area_node_key":{"type":"number","description":"Area Node Key of the Space"},"area_node_name":{"type":"string","description":"Name of the Space"},"client_id":{"type":"string","description":"ID of the Client"},"parent_area_node_key":{"type":"number","description":"Area Node Key of the Space's Parent"},"anet_user_id":{"type":"string","description":"ANET User ID of the user"},"active_flag":{"type":"string","description":"Flag determining if the User-Space Mapping is active or not 'A' or 'X'"},"area_node_level_key":{"type":"number","description":"Key of the level of the Space. Only applicable in list of Spaces"},"area_node_level_value":{"type":"string","description":"Name of the level of the Space. Only applicable in list of Spaces"},"area_node_order_value":{"type":"number","description":"Order Value of the Space. Only applicable in list of Spaces"},"order_key":{"type":"string","description":"Order Key of the Space. Only applicable in list of Spaces"},"attributes":{"type":"array","items":{"$ref":"#/components/schemas/space_attributes"}}}},"space_attributes":{"type":"object","properties":{"attribute_type":{"type":"string","description":"Type of Space Attribute"},"attribute_value":{"type":"string","description":"Value of Space Attribute"},"attribute_active_flag":{"type":"string","description":"Flag determining if the Space Attribute is active or not 'A' or 'X'"}}},"put_spaces":{"type":"object","properties":{"area_node_key":{"type":"number","description":"Area Node Key of the Space; Do not include if adding Space"},"area_node_level":{"type":"number","description":"Level of the Space"},"area_node_name":{"type":"string","description":"Name of the Space"},"parent_area_node_key":{"type":"number","description":"Area Node Key of the Space's Parent"},"allow_devices":{"type":"boolean","description":"Flag to determine if a Space can have Devices"},"mdg_client_id":{"type":"string","description":"Client ID of the space"},"active_flag":{"type":"string","description":"Flag to determine if the Space is active or not 'A' or 'X'"},"area_attributes":{"type":"array","items":{"$ref":"#/components/schemas/put_space_attributes"}},"email":{"type":"string","description":"Email of the User creating or updating"}}},"put_space_attributes":{"type":"object","properties":{"area_node_attribute_key":{"type":"number","description":"Key of the Space Attribute"},"area_node_attribute_type":{"type":"string","description":"Type of Space Attribute"},"area_node_attribute_value":{"type":"string","description":"Value of Space Attribute"},"active_flag":{"type":"string","description":"Flag determining if the Space Attribute is active or not 'A' or 'X'"}}},"devices":{"type":"object","properties":{"device_id":{"type":"string","description":"ID of the Device"},"device_name":{"type":"string","description":"Name of the Device"},"sensor_type":{"type":"string","description":"Type of sensor in the Device"},"active_flag":{"type":"string","description":"Flag determining if the Device is active or not 'A' or 'X'"},"area_node_key":{"type":"number","description":"Area Node Key of the Space the Device is mapped to"},"client_id":{"type":"string","description":"ID of the Client"},"client_name":{"type":"string","description":"Name of the Client"}}},"put_devices":{"type":"object","properties":{"device_id":{"type":"string","description":"ID of the Device"},"active_flag":{"type":"string","description":"Flag determining if the Device is active or not 'A' or 'X'"},"area_node_key":{"type":"number","description":"Area Node Key of the Space the Device is mapped to"},"device_area_active_flag":{"type":"string","description":"Flag determining if the Device-Space Mapping is active or not 'A' or 'X'"},"email":{"type":"string","description":"Email of the User creating or updating"}}}}}}